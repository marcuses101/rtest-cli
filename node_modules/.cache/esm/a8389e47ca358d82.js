let fs,path,testTemplate;_ca3‍.x([["cli",()=>cli]]);_ca3‍.w("fs/promises",[["default",["fs"],function(v){fs=v}]]);_ca3‍.w("path",[["default",["path"],function(v){path=v}]]);_ca3‍.w("./testTemplate",[["default",["testTemplate"],function(v){testTemplate=v}]]);



       async function cli(){
  try {
    const arg = process.argv[2];
    const componentName = path.basename(arg,'.js');
    const testPath = path.dirname(arg) + '/'  + componentName +'.test.js'
    const readFile = await fs.readFile(arg,'utf-8');
    const isRouterTest = readFile.includes('react-router-dom')
    const testFile = testTemplate(componentName,isRouterTest)
    await fs.writeFile(testPath,testFile);
    _ca3‍.g.console.log(componentName + ' test created')
  } catch (error) {
    _ca3‍.g.console.error(error)
  }
}